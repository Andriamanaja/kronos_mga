{"version":3,"sources":["webpack:///./src/app/head/head.component.html","webpack:///./src/app/head/head.component.scss","webpack:///./src/app/head/head.component.ts","webpack:///./src/app/head/head.module.ts","webpack:///./src/app/services/odoo.service.ts"],"names":[],"mappings":"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","file":"default~menu-menu-module~new-sync-new-sync-module~synchro-synchro-module.js","sourcesContent":["module.exports = \"<div class=\\\"menu_icon\\\">\\n <div  *ngIf = \\\"color_icon\\\">\\n    <p-menu (click)=\\\"go_sync()\\\" #menu_2 [popup]=\\\"true\\\" [model]=\\\"items_sync\\\"></p-menu>\\n    <a (click)=\\\"menu_2.toggle($event)\\\"> \\n        <i *ngIf = \\\"color_icon == '#21b799' \\\" class=\\\"fas fa-sync\\\" style=\\\"color : #21b799 ;font-size: 20px ; font-size: 20px ; vertical-align: -webkit-baseline-middle\\\" ></i>\\n        <i *ngIf = \\\"color_icon == '#e6db10' \\\" class=\\\"fas fa-sync\\\" style=\\\"color : #e6db10 ;font-size: 20px ; font-size: 20px ; vertical-align: -webkit-baseline-middle\\\" ></i>\\n        <i *ngIf = \\\"color_icon == '#b72121' \\\" class=\\\"fas fa-sync\\\" style=\\\"color : #b72121 ;font-size: 20px ; font-size: 20px ; vertical-align: -webkit-baseline-middle\\\" ></i>\\n        <i *ngIf = \\\"color_icon == 'transparent' \\\" class=\\\"fas fa-sync\\\" style=\\\"color : transparent ;font-size: 20px ; font-size: 20px ; vertical-align: -webkit-baseline-middle\\\" ></i>\\n    </a>\\n  </div>\\n\\n  <div>\\n    <p-menu (click)=\\\"Deconnexion()\\\" #menu [popup]=\\\"true\\\" [model]=\\\"itemes\\\"></p-menu>\\n    <a (click)=\\\"menu.toggle($event)\\\"> <i class=\\\"fas fa-bars\\\" style=\\\" color: white; font-size: 20px ; font-size: 20px ; vertical-align: -webkit-baseline-middle\\\"></i></a>\\n  </div>\\n</div>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2hlYWQvaGVhZC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, OnChanges } from '@angular/core';\nimport { MenuItem } from 'primeng/api';\nimport { NavigationExtras, Router, NavigationStart, RouterEvent } from '@angular/router';\nimport { Database_manager } from '../model/DAO/database_manager.model';\nimport { Auth } from '../model/helper/auth';\nimport { Storage } from '@ionic/storage'\nimport { interval, Subject } from 'rxjs';\nimport { filter, takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-head',\n  templateUrl: './head.component.html',\n  styleUrls: ['./head.component.scss'],\n})\nexport class HeadComponent implements OnInit {\n  private destroyed$ = new Subject();\n  itemes: MenuItem[];\n  msgs = [];\n  color_icon = null;\n  items_sync: MenuItem[];\n  data_cmp: any;\n  navigationExtras: NavigationExtras;\n\n  constructor(private dbm: Database_manager, private storage: Storage, private router: Router) {\n\n  }\n\n  ngOnInit() {\n    const source = interval(15000);\n    //source.subscribe(val => {\n      this.dbm.verify_data().then(data => {\n        if (this.color_icon == null) {\n          this.color_icon = data.color;\n          this.itemes = [\n            { label: 'Déconnecter', icon: 'pi pi-fw pi-plus' },\n          ];\n          this.items_sync = [\n            { label: data.non_synced },\n          ];\n\n          let x = { severity : data.severity , detail : data.non_synced }\n          this.msgs.push(x) ;\n\n          this.storage.set(\"msg_data\" , this.msgs) ;\n\n        }\n      });\n    //});\n  }\n\n  open_menu() {\n    this.storage.set(\"last\", \"fiches-client\");\n    this.router.navigate(['menu'], null);\n  }\n\n  Deconnexion() {\n    Auth.access = true;\n    this.storage.get('data_p2')\n      .then((data2: any) => {\n        this.data_cmp = JSON.parse(data2);\n        this.dbm.Updata_active_Login(this.data_cmp.id);\n        this.storage.remove(\"data_p2\");\n      })\n    this.router.navigate(['home'], this.navigationExtras);\n  }\n\n  go_sync() {\n    this.router.navigate(['synchro'], this.navigationExtras)\n  }\n  \n}\n","import { HeadComponent } from \"./head.component\"\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA, NO_ERRORS_SCHEMA } from '@angular/core';\nimport { MenuModule } from 'primeng/menu';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\n\n@NgModule({\n    imports : [\n        MenuModule,  \n        CommonModule,\n        FormsModule,\n        IonicModule\n    ],\n    declarations : [HeadComponent] ,\n    exports : [HeadComponent] ,\n    schemas : [CUSTOM_ELEMENTS_SCHEMA]\n})\n\nexport class HeadModule {}","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http'\r\nimport { Database_manager } from '../model/DAO/database_manager.model';\r\nimport { LoadingController, ToastController } from '@ionic/angular';\r\nimport { Storage } from '@ionic/storage';\r\nimport { Counter } from '../model/helper/counter';\r\nimport { of } from 'rxjs';\r\nimport { retry, tap, catchError } from 'rxjs/operators';\r\nimport { Router } from '@angular/router';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({\r\n    'Content-Type': 'application/json',\r\n  })\r\n};\r\n\r\nclass data_sync {\r\n  user_id: {\r\n    database: String,\r\n    username: String,\r\n    password: String\r\n  }\r\n  data: any;\r\n  constructor() { }\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class OdooService {\r\n  counter: Counter = new Counter()\r\n  to_offline: Array<any> = [];\r\n  user_data: any;\r\n  data_for_sync: any;\r\n\r\n  constructor(private router: Router, private toastController: ToastController, private storage: Storage, private loader: LoadingController, private http: HttpClient, private dbm: Database_manager) {\r\n\r\n  }\r\n\r\n  async get_all_backup_data(url, username, database, password): Promise<any> {\r\n\r\n    const loading = await this.loader.create();\r\n\r\n    loading.present();\r\n\r\n    this.user_data = {\r\n      url: \"http://192.168.200.44:3002\",\r\n      username: username,\r\n      database: \"mada13\",\r\n      password: password,\r\n    };\r\n    console.log(\"50 => \", this.user_data);\r\n\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        //'Content-Length': ''\r\n      })\r\n    };\r\n\r\n    return await this.http.put(\"http://192.168.200.44:3002\" + \"/sync/check_backup\", this.user_data).pipe(\r\n      retry(0),\r\n      tap(res => {\r\n        console.log(\"res == > \", res);\r\n        if (!res) {\r\n          console.log(\"tsy nisy tao e ! : \" + JSON.stringify(res));\r\n          Counter.disableLoading();\r\n        }\r\n        return res;\r\n      })\r\n    ).toPromise().then(async (data: any) => {\r\n      if (data.status == 500) {\r\n        loading.dismiss().then(() => {\r\n          this.set_message(\"error\", \"Erreur serveur Odoo.\");\r\n          this.createToast(\"Erreur serveur Odoo\");\r\n          this.router.navigate([\"menu\"]);\r\n        });\r\n      }\r\n      else if (data.status == 202) {\r\n        loading.dismiss().then(() => {\r\n          this.set_message(\"warn\", \"Un autre processus est en cours sur le serveur.\");\r\n          this.createToast(\"Un autre processus est en cours sur le serveur\");\r\n          this.router.navigate([\"menu\"]);\r\n        });\r\n      }\r\n      else {\r\n\r\n        for (var i = 0; i < data.response.from_offline.length; i++) {\r\n          this.dbm.update_x_odoo_id(data.response.from_offline[i]);\r\n          this.dbm.update_data_for_sync_2(data.response.from_offline[i].table, data.response.from_offline[i].id)\r\n        }\r\n\r\n        this.dbm.get_active_user()\r\n          .then((user) => {\r\n\r\n            for (var i = 0; i < data.response.to_offline.length; i++) {\r\n              //insert \r\n\r\n              this.dbm.insert_kronos_back_data(data.response.to_offline[i].table, data.response.to_offline[i].id, user.id)\r\n                .catch(e => console.log(\" insert back data odoo service exception : \" + e.message))\r\n              this.dbm.get_columns(data.response.to_offline[i], 1).catch(e => console.log(\"get column error : \" + e.message)).then(() => {\r\n\r\n              });\r\n            }\r\n\r\n            this.dbm.get_kronos_back_data()\r\n              .then((data: any) => {\r\n                if (!data) {\r\n                  data = [];\r\n                }\r\n                let to_send = {\r\n                  vals: data,\r\n                  user_id: this.user_data\r\n                }\r\n                this.http.post(\"http://192.168.200.44:3002\"+ \"/sync/return\", to_send, httpOptions).subscribe(\r\n                  //next\r\n                  _ => {\r\n                    this.http.post(\"http://192.168.200.44:3002\" + \"/sync/remove_backup\", to_send, httpOptions).subscribe((final_result: any) => {\r\n\r\n                      if (final_result.status == 200) {\r\n                        this.dbm.delete('kronos_back_data').then(() => {\r\n                          this.set_message(\"success\", \"Mise à jour de la base de données avec succès.\");\r\n                          this.dbm.remove_survey_partner_rel();\r\n                          this.dbm.remove_user_partner_rel();\r\n                          this.dbm.remove_posm_partner_rel();\r\n                          this.createToast(\"Mise à jour de la base de données avec succès.\");\r\n                          loading.dismiss();\r\n                          console.log(\"data service : data deleted\");\r\n                        }).catch(e => console.log(\"odoo service deleted\"))\r\n\r\n                      }\r\n                      else {\r\n\r\n                      }\r\n                    }, (err => {\r\n                      console.log(\"110 =>\" + err);\r\n                      loading.dismiss().then(() => {\r\n                        this.set_message(\"error\", \"Une erreur s'est produite lors de la mise à jour de la base de données .\");\r\n                        this.createToast(\"Une erreur s'est produite lors de la mise à jour de la base de données ... \");\r\n                        loading.dismiss();\r\n                        this.router.navigate([\"menu\"]);\r\n                      })\r\n\r\n                    }))\r\n\r\n                  },\r\n                  err => {\r\n                    loading.dismiss().then(() => {\r\n                      this.set_message(\"error\", \"Une erreur s'est produite lors de la mise à jour de la base de données .\");\r\n                      this.createToast(\"Une erreur s'est produite lors de la mise à jour de la base de données ... \");\r\n                      loading.dismiss();\r\n                      //+++\r\n                      this.router.navigate([\"menu\"]);\r\n                    })\r\n                  });\r\n              })\r\n\r\n          }).catch(err => {\r\n            console.log(\"128 =>\" + err);\r\n            loading.dismiss().then(() => {\r\n              this.set_message(\"error\", \"Une erreur s'est produite lors de la mise à jour de la base de données .\");\r\n              this.createToast(\"Une erreur s'est produite lors de la mise à jour de la base de données ... \");\r\n              loading.dismiss();\r\n              //+++\r\n              this.router.navigate([\"menu\"]);\r\n            })\r\n          })\r\n      }\r\n    }, (error) => {\r\n      console.log(\"142 =>\" + JSON.stringify(error));\r\n      loading.dismiss().then(() => {\r\n        this.set_message(\"error\", \"Une erreur s'est produite lors de la mise à jour de la base de données .\");\r\n        this.createToast(\"Une erreur s'est produite lors de la mise à jour de la base de données ... \");\r\n        loading.dismiss();\r\n        //+++\r\n        this.router.navigate([\"menu\"]);\r\n      })\r\n    });\r\n  }\r\n\r\n\r\n  async   synchronise_as_admin(url: string, username: string, database: string, password: string) {\r\n    this.user_data = {\r\n      url: \"http://192.168.200.44:3002\",\r\n      username: username,\r\n      password: password,\r\n      database: \"mada13\"\r\n    };\r\n    console.log(\"144 => \", this.user_data);\r\n    Counter.presentLoading();\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        //'Content-Length': '0'\r\n      })\r\n    };\r\n\r\n    return this.http.post(\"http://192.168.200.44:3002\" + \"/sync/firstConnection\", this.user_data, httpOptions).subscribe(\r\n      //next\r\n      (data: any) => {\r\n        console.log(\"52\", data)\r\n        if (data.status == 500) {\r\n          Counter.disableLoading().then(() => {\r\n            this.set_message(\"error\", \"Erreur du serveur , veuillez réessayer ultérieurement.\");\r\n            this.createToast(\"Erreur du serveur , veuillez réessayer ultérieurement...\");\r\n            this.router.navigate(['menu']);\r\n          });\r\n        }\r\n        else {\r\n          console.log(\"firstConnection => \" + JSON.stringify(data));\r\n          for (var i = 0; i < data.response.length; i++) {\r\n\r\n            this.dbm.verify_login(data.response[i])\r\n              .then(data => {\r\n\r\n              }).catch(e => {\r\n                this.set_message(\"error\", \"Une erreur est survenue.\");\r\n                this.createToast(\"Une erreur est survenue \");\r\n                this.router.navigate(['menu']);\r\n              });\r\n          }\r\n\r\n        }\r\n\r\n      },\r\n\r\n      //error\r\n      (error) => {\r\n        console.log(error)\r\n\r\n        this.createToast(\"Erreur du serveur! Verifier les champs saisis ou réessayer ultérieurement...\").then(() => {\r\n          this.set_message(\"error\", \"Erreur du serveur! Verifier les champs saisis ou réessayer ultérieurement.\");\r\n          Counter.disableLoading();\r\n        })\r\n      },\r\n    );\r\n  }\r\n\r\n  setDataForSync(data: any): Promise<any> {\r\n    return this.data_for_sync = data;\r\n  }\r\n\r\n  destroy_data_for_sync() {\r\n    this.data_for_sync = [];\r\n    console.log(\"209 destroy data_for_sync => \", this.data_for_sync);\r\n  }\r\n\r\n  synchronise_2(url: string, username: string, database: string, password: string, data_to_send: string) {\r\n    try{\r\n      console.log(\"251 => \", JSON.stringify(data_to_send));\r\n    }\r\n    catch(e){\r\n      console.log(e) ;\r\n    }\r\n  }\r\n\r\n  async synchronise(url: string, username: string, database: string, password: string, data_to_send: string) {\r\n    \r\n    Counter.presentLoading();\r\n    this.user_data = {\r\n      url: \"\",\r\n      username: username,\r\n      password: password,\r\n      database: \"\"\r\n    };\r\n    Counter.disableLoading();\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        // 'Content-Length': \"1000000\",\r\n      })\r\n    };\r\n\r\n    let to_send_1 = {\r\n      vals: data_to_send,\r\n      user_id: this.user_data\r\n    }\r\n\r\n\r\n    console.log(\"278 => \", JSON.stringify(data_to_send));\r\n    await this.http.post(\"http://192.168.200.44:3002\" + \"/sync/data\", JSON.stringify(to_send_1), httpOptions)\r\n      .pipe(\r\n        retry(0),\r\n        tap(res => {\r\n          console.log(\"res == > \", res);\r\n          if (!res) {\r\n            console.log(\"tsy nisy tao e ! : \" + JSON.stringify(res));\r\n            Counter.disableLoading();\r\n          }\r\n          return res;\r\n        })\r\n      ).subscribe(\r\n        //next\r\n        (data: any) => {\r\n\r\n          if (data.status == 500) {\r\n            Counter.disableLoading().then(() => {\r\n              this.set_message(\"error\", \"Erreur serveur Odoo.\");\r\n              this.createToast(\"Erreur serveur Odoo\");\r\n              this.router.navigate([\"menu\"]).then(() => console.log(\"nav 1\"));\r\n            });\r\n          }\r\n\r\n          else if (data.status == 202) {\r\n            Counter.disableLoading().then(() => {\r\n              this.createToast(\"Un autre processus est en cours sur le serveur\");\r\n              this.set_message(\"warn\", \"Un autre processus est en cours sur le serveur.\");\r\n              this.router.navigate([\"menu\"]).then(() => console.log(\"nav 2\"));;\r\n            });\r\n          }\r\n\r\n          else {\r\n            this.dbm.get_active_user()\r\n              .then((user) => {\r\n                console.log(\"318 => \", JSON.stringify(data.response));\r\n                //this.dbm.remove_survey_partner_rel() ;\r\n                Counter.data_length = data.response.to_offline.length;\r\n                for (var i = 0; i < data.response.to_offline.length; i++) {\r\n                  //insert \r\n                  this.dbm.insert_kronos_back_data(data.response.to_offline[i].table, data.response.to_offline[i].id, user.id)\r\n                    .catch(e => console.log(\" insert back data odoo service exception : \" + e.message))\r\n                  this.dbm.get_columns(data.response.to_offline[i], 0).catch(e => console.log(\"get column error : \" + e.message)).then(() => {\r\n                  });\r\n                }\r\n\r\n                for (var i = 0; i < data.response.from_offline.length; i++) {\r\n                  this.dbm.update_x_odoo_id(data.response.from_offline[i])\r\n                  //this.dbm.update_data_for_sync(data.response.from_offline[i]);\r\n                  this.dbm.update_data_for_sync_2(data.response.from_offline[i].table, data.response.from_offline[i].id)\r\n                }\r\n\r\n                this.dbm.get_kronos_back_data()\r\n                  .then((data: any) => {\r\n                    if (!data) {\r\n                      data = [];\r\n                    }\r\n                    let to_send = {\r\n                      vals: data,\r\n                      user_id: this.user_data\r\n                    }\r\n                    this.http.post(\"http://192.168.200.44:3002\" + \"/sync/return\", to_send, httpOptions).subscribe(\r\n                      //next\r\n                      _ => {\r\n                        this.destroy_data_for_sync();\r\n\r\n                        Counter.disableLoading().then(() => {\r\n                          this.dbm.delete('kronos_back_data').then(() => {\r\n                            console.log(\"data service : data deleted\");\r\n                            this.http.post(\"http://192.168.200.44:3002\" + \"/sync/remove_backup\", to_send, httpOptions).subscribe(final_result => {\r\n                              console.log(\"final_result => \", JSON.stringify(final_result));\r\n                              this.router.navigate([\"menu\"]).then(() => console.log(\"nav 3\"));\r\n                              this.createToast(\"Synchronisation effectuée avec succès!\");\r\n                              this.set_message(\"success\", \"Synchronisation effectuée avec succès!\");\r\n                            })\r\n                          }).catch(e => console.log(\"odoo service deleted\"))\r\n                        });\r\n                      },\r\n                      err => {\r\n\r\n                        Counter.disableLoading().then(() => {\r\n                          this.createToast(\"Une erreur est survenue ... \");\r\n                          this.set_message(\"error\", \"Une erreur est survenue.\");\r\n                          this.router.navigate([\"menu\"]).then(() => console.log(\"nav 4\"));;\r\n                        });\r\n                        console.log(\"erreur an amle post return \", err.message);\r\n\r\n                      });\r\n                  }).catch(err => {\r\n                    console.log(\"142 =>\" + err);\r\n\r\n                    Counter.disableLoading().then(() => {\r\n                      this.set_message(\"error\", \"Impossible de se connecter au serveur.\");\r\n                      this.createToast(\"Impossible de se connecter au serveur.\");\r\n                      this.router.navigate([\"menu\"]).then(() => console.log(\"nav 5\"));;\r\n                    });\r\n\r\n                  })\r\n\r\n              }).catch(err => {\r\n                console.log(\"159 =>\" + err);\r\n\r\n                Counter.disableLoading().then(() => {\r\n                  this.set_message(\"error\", \"Une erreur s'est produite lors de la synchronisation\");\r\n                  this.createToast(\"Une erreur s'est produite lors de la synchronisation\");\r\n                  this.router.navigate([\"menu\"]).then(() => console.log(\"nav 6\"));;\r\n                });\r\n\r\n              })\r\n          }\r\n        }, (error) => {\r\n          console.log(\"179 \", error)\r\n          this.createToast(\"Une erreur s'est produite lors de la synchronisation, verifier les champs saisis.\").then(() => {\r\n            Counter.disableLoading();\r\n            this.set_message(\"error\", \"Une erreur s'est produite lors de la synchronisation, verifier les champs saisis.\");\r\n            this.router.navigate([\"menu\"]).then(() => console.log(\"nav 7\"));;\r\n          })\r\n        });\r\n  }\r\n\r\n\r\n  async createToast(message: string) {\r\n    const toast = await this.toastController.create({\r\n      message: message,\r\n      duration: 2000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  set_message(type: string, message: string) {\r\n    let mensaje = [{\r\n      severity: type,\r\n      detail: message\r\n    }]\r\n    this.storage.set(\"message\", mensaje).then(() => {\r\n      console.log(\"tafa le set message\");\r\n    });\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}