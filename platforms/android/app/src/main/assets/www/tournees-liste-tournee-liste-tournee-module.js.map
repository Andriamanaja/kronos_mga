{"version":3,"sources":["webpack:///./src/app/head/head.component.html","webpack:///./src/app/head/head.component.scss","webpack:///./src/app/head/head.component.ts","webpack:///./src/app/head/head.module.ts","webpack:///./src/app/tournees/liste-tournee/liste-tournee.module.ts","webpack:///./src/app/tournees/liste-tournee/liste-tournee.page.html","webpack:///./src/app/tournees/liste-tournee/liste-tournee.page.scss","webpack:///./src/app/tournees/liste-tournee/liste-tournee.page.ts"],"names":[],"mappings":"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","file":"tournees-liste-tournee-liste-tournee-module.js","sourcesContent":["module.exports = \"<div class=\\\"menu_icon\\\">\\n <div  *ngIf = \\\"color_icon\\\">\\n    <p-menu (click)=\\\"go_sync()\\\" #menu_2 [popup]=\\\"true\\\" [model]=\\\"items_sync\\\"></p-menu>\\n    <a (click)=\\\"menu_2.toggle($event)\\\"> \\n        <i *ngIf = \\\"color_icon == '#21b799' \\\" class=\\\"fas fa-sync\\\" style=\\\"color : #21b799 ;font-size: 20px ; font-size: 20px ; vertical-align: -webkit-baseline-middle\\\" ></i>\\n        <i *ngIf = \\\"color_icon == '#e6db10' \\\" class=\\\"fas fa-sync\\\" style=\\\"color : #e6db10 ;font-size: 20px ; font-size: 20px ; vertical-align: -webkit-baseline-middle\\\" ></i>\\n        <i *ngIf = \\\"color_icon == '#b72121' \\\" class=\\\"fas fa-sync\\\" style=\\\"color : #b72121 ;font-size: 20px ; font-size: 20px ; vertical-align: -webkit-baseline-middle\\\" ></i>\\n        <i *ngIf = \\\"color_icon == 'transparent' \\\" class=\\\"fas fa-sync\\\" style=\\\"color : transparent ;font-size: 20px ; font-size: 20px ; vertical-align: -webkit-baseline-middle\\\" ></i>\\n    </a>\\n  </div>\\n\\n  <div>\\n    <p-menu (click)=\\\"Deconnexion()\\\" #menu [popup]=\\\"true\\\" [model]=\\\"itemes\\\"></p-menu>\\n    <a (click)=\\\"menu.toggle($event)\\\"> <i class=\\\"fas fa-bars\\\" style=\\\" color: white; font-size: 20px ; font-size: 20px ; vertical-align: -webkit-baseline-middle\\\"></i></a>\\n  </div>\\n</div>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2hlYWQvaGVhZC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, OnChanges } from '@angular/core';\nimport { MenuItem } from 'primeng/api';\nimport { NavigationExtras, Router, NavigationStart, RouterEvent } from '@angular/router';\nimport { Database_manager } from '../model/DAO/database_manager.model';\nimport { Auth } from '../model/helper/auth';\nimport { Storage } from '@ionic/storage'\nimport { interval, Subject } from 'rxjs';\nimport { filter, takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-head',\n  templateUrl: './head.component.html',\n  styleUrls: ['./head.component.scss'],\n})\nexport class HeadComponent implements OnInit {\n  private destroyed$ = new Subject();\n  itemes: MenuItem[];\n  msgs = [];\n  color_icon = null;\n  items_sync: MenuItem[];\n  data_cmp: any;\n  navigationExtras: NavigationExtras;\n\n  constructor(private dbm: Database_manager, private storage: Storage, private router: Router) {\n\n  }\n\n  ngOnInit() {\n    const source = interval(15000);\n    //source.subscribe(val => {\n      this.dbm.verify_data().then(data => {\n        if (this.color_icon == null) {\n          this.color_icon = data.color;\n          this.itemes = [\n            { label: 'Déconnecter', icon: 'pi pi-fw pi-plus' },\n          ];\n          this.items_sync = [\n            { label: data.non_synced },\n          ];\n\n          let x = { severity : data.severity , detail : data.non_synced }\n          this.msgs.push(x) ;\n\n          this.storage.set(\"msg_data\" , this.msgs) ;\n\n        }\n      });\n    //});\n  }\n\n  open_menu() {\n    this.storage.set(\"last\", \"fiches-client\");\n    this.router.navigate(['menu'], null);\n  }\n\n  Deconnexion() {\n    Auth.access = true;\n    this.storage.get('data_p2')\n      .then((data2: any) => {\n        this.data_cmp = JSON.parse(data2);\n        this.dbm.Updata_active_Login(this.data_cmp.id);\n        this.storage.remove(\"data_p2\");\n      })\n    this.router.navigate(['home'], this.navigationExtras);\n  }\n\n  go_sync() {\n    this.router.navigate(['synchro'], this.navigationExtras)\n  }\n  \n}\n","import { HeadComponent } from \"./head.component\"\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA, NO_ERRORS_SCHEMA } from '@angular/core';\nimport { MenuModule } from 'primeng/menu';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\n\n@NgModule({\n    imports : [\n        MenuModule,  \n        CommonModule,\n        FormsModule,\n        IonicModule\n    ],\n    declarations : [HeadComponent] ,\n    exports : [HeadComponent] ,\n    schemas : [CUSTOM_ELEMENTS_SCHEMA]\n})\n\nexport class HeadModule {}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ListeTourneePage } from './liste-tournee.page';\r\nimport { ChartModule } from 'primeng/chart';\r\nimport { FullCalendarModule } from 'primeng/fullcalendar';\r\nimport { ButtonModule } from 'primeng/button';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { SidebarModule } from 'primeng/sidebar';\r\nimport { InputTextModule } from 'primeng/inputtext';\r\nimport { AccordionModule } from 'primeng/accordion';\r\nimport { PasswordModule } from 'primeng/password';\r\nimport { MessagesModule } from 'primeng/messages';\r\nimport { MessageModule } from 'primeng/message';\r\nimport { TableModule } from 'primeng/table';\r\nimport { MenuModule } from 'primeng/menu';\r\nimport { HeaderPage } from 'src/app/header/header.page';\r\nimport { HeaderPageModule } from 'src/app/header/header.module';\r\nimport { HeadModule } from 'src/app/head/head.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ListeTourneePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    ReactiveFormsModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ChartModule,\r\n    FullCalendarModule,\r\n    ButtonModule,\r\n    DropdownModule, \r\n    SidebarModule,\r\n    InputTextModule,\r\n    AccordionModule,\r\n    PasswordModule,\r\n    MessagesModule,\r\n    MessageModule,\r\n    TableModule,\r\n    RouterModule.forChild(routes),\r\n    MenuModule,\r\n    HeadModule\r\n    //HeaderPageModule\r\n  ],\r\n  declarations: [ListeTourneePage],\r\n  providers : []\r\n})\r\nexport class ListeTourneePageModule {}\r\n","module.exports = \"<ion-content>\\r\\n  <div class=\\\"container\\\">\\r\\n\\r\\n    <!-- HEAD -->\\r\\n    <div class=\\\"head\\\">\\r\\n      <div class=\\\"back_button\\\">\\r\\n        <span>\\r\\n          <img src=\\\"../../../assets/image/logo_itg.png\\\" (click)=\\\"open_menu()\\\" />\\r\\n        </span>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"menu\\\">\\r\\n        <div class=\\\"list_icon\\\">\\r\\n          <i class=\\\"fas fa-at\\\"\\r\\n            style=\\\"color: white ;   margin-right: 10px; font-size: 20px ; font-size: 20px ; vertical-align: -webkit-baseline-middle\\\"></i>\\r\\n          <i class=\\\"fas fa-comments\\\"\\r\\n            style=\\\" color: white ;   margin-right: 10px; font-size: 20px ; font-size: 20px ; vertical-align: -webkit-baseline-middle\\\"></i>\\r\\n          <i class=\\\"fas fa-ban on fa-camera\\\"\\r\\n            style=\\\" color: white ;   margin-right: 10px; font-size: 20px ; font-size: 20px ; vertical-align: -webkit-baseline-middle\\\"></i>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n       <app-head></app-head>\\r\\n      \\r\\n    </div>\\r\\n    <!-- HEAD -->\\r\\n\\r\\n    <div class=\\\"body\\\">\\r\\n      <div class=\\\"title_body\\\">\\r\\n        <h3>Tournées</h3>\\r\\n      </div>\\r\\n      <div class=\\\"list_tournee\\\">\\r\\n        <p-table #dt  [columns]=\\\"cols\\\" [value]=\\\"data\\\" [paginator]=\\\"true\\\" [paginatorPosition]=\\\"'top'\\\" [rows]=\\\"20\\\"\\r\\n          [(selection)]=\\\"selected\\\" dataKey=\\\"name\\\" (onRowSelect)=\\\"onRowSelect($event)\\\"\\r\\n          (onRowUnselect)=\\\"onRowUnselect($event)\\\" class=\\\"tableau\\\">\\r\\n\\r\\n          <ng-template pTemplate=\\\"caption\\\">\\r\\n            <div style=\\\"text-align: right\\\">\\r\\n              <i class=\\\"fas fa-search\\\" style=\\\"margin: 4px 4px 0 0 ; color: gray; font-size: 20px;\\\"></i>\\r\\n              <input type=\\\"text\\\" pInputText size=\\\"20\\\" placeholder=\\\"Filtrer\\\"\\r\\n                (input)=\\\"dt.filterGlobal($event.target.value, 'contains')\\\">\\r\\n            </div>\\r\\n          </ng-template>\\r\\n\\r\\n          <ng-template pTemplate=\\\"header\\\" let-columns>\\r\\n            <tr>\\r\\n              <th *ngFor=\\\"let col of columns\\\" [pSortableColumn]=\\\"col.field\\\" [ngStyle]=\\\"{'display': col.display}\\\">\\r\\n                {{col.header}}\\r\\n                <p-sortIcon [field]=\\\"col.field\\\"></p-sortIcon>\\r\\n              </th>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n\\r\\n          <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\">\\r\\n            <tr [pSelectableRow]=\\\"rowData\\\">\\r\\n              <td *ngFor=\\\"let col of columns\\\" (click)=\\\"onRowClicked(rowData)\\\" [ngStyle]=\\\"{'display': col.display}\\\">\\r\\n                {{rowData[col.field]}}\\r\\n              </td>\\r\\n            </tr>\\r\\n          </ng-template>\\r\\n        </p-table>\\r\\n\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"footer\\\">\\r\\n\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n</ion-content>\"","module.exports = \".body {\\n  width: 100%;\\n  height: 100%;\\n  background-color: white; }\\n\\nh3 {\\n  font-size: 22px;\\n  color: gray;\\n  margin-left: 6px;\\n  margin-top: 0px;\\n  padding-top: 10px; }\\n\\n.btn_nw_cr {\\n  margin-left: 6px; }\\n\\n.bt {\\n  margin-left: 2px; }\\n\\n.title_body {\\n  margin-top: 0px;\\n  padding-top: 13px;\\n  height: 48px;\\n  padding-bottom: 13px;\\n  display: contents; }\\n\\n.table {\\n  margin-top: 2px;\\n  margin-left: 2px;\\n  margin-right: 2px; }\\n\\n.tableau th {\\n  text-align: left; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FuZHJpYW1hbmFqYS9Eb2N1bWVudHMvaW9uaWMgcHJvamVjdC9rcm9ub3NfbWcvc3JjL2FwcC90b3VybmVlcy9saXN0ZS10b3VybmVlL2xpc3RlLXRvdXJuZWUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBVztFQUNYLFlBQVk7RUFDWix1QkFBdUIsRUFBQTs7QUFFM0I7RUFDSSxlQUFlO0VBQ2YsV0FBVztFQUNYLGdCQUFnQjtFQUNoQixlQUFnQjtFQUNoQixpQkFBaUIsRUFBQTs7QUFHckI7RUFDSSxnQkFBZ0IsRUFBQTs7QUFHcEI7RUFDSSxnQkFDSixFQUFBOztBQUVBO0VBQ0ksZUFBZTtFQUNmLGlCQUFpQjtFQUNqQixZQUFZO0VBQ1osb0JBQW9CO0VBQ3BCLGlCQUFpQixFQUFBOztBQUdyQjtFQUNJLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsaUJBQWlCLEVBQUE7O0FBR3JCO0VBQ0ksZ0JBQWlCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC90b3VybmVlcy9saXN0ZS10b3VybmVlL2xpc3RlLXRvdXJuZWUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJvZHl7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG59XHJcbmgze1xyXG4gICAgZm9udC1zaXplOiAyMnB4O1xyXG4gICAgY29sb3I6IGdyYXk7XHJcbiAgICBtYXJnaW4tbGVmdDogNnB4O1xyXG4gICAgbWFyZ2luLXRvcDogMHB4IDtcclxuICAgIHBhZGRpbmctdG9wOiAxMHB4O1xyXG59XHJcblxyXG4uYnRuX253X2Nye1xyXG4gICAgbWFyZ2luLWxlZnQ6IDZweDtcclxufVxyXG5cclxuLmJ0e1xyXG4gICAgbWFyZ2luLWxlZnQgOiAycHhcclxufVxyXG5cclxuLnRpdGxlX2JvZHl7XHJcbiAgICBtYXJnaW4tdG9wOiAwcHg7XHJcbiAgICBwYWRkaW5nLXRvcDogMTNweDtcclxuICAgIGhlaWdodDogNDhweDtcclxuICAgIHBhZGRpbmctYm90dG9tOiAxM3B4O1xyXG4gICAgZGlzcGxheTogY29udGVudHM7XHJcbn1cclxuXHJcbi50YWJsZSB7XHJcbiAgICBtYXJnaW4tdG9wOiAycHg7XHJcbiAgICBtYXJnaW4tbGVmdDogMnB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAycHg7XHJcbn1cclxuXHJcbi50YWJsZWF1IHRoIHtcclxuICAgIHRleHQtYWxpZ246IGxlZnQgO1xyXG59XHJcblxyXG4gIl19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router, NavigationExtras, ActivatedRoute } from '@angular/router';\r\nimport { Database_manager } from 'src/app/model/DAO/database_manager.model';\r\nimport { i_t_tournee } from 'src/app/model/data/i_t_tournee.model';\r\nimport { Storage } from '@ionic/storage' ;\r\nimport {MenuItem} from 'primeng/api';\r\nimport { Auth } from 'src/app/model/helper/auth';\r\n\r\n@Component({\r\n  selector: 'app-liste-tournee',\r\n  templateUrl: './liste-tournee.page.html',\r\n  styleUrls: ['./liste-tournee.page.scss'],\r\n  styles: [`\r\n        \r\n    `\r\n    ]\r\n})\r\nexport class ListeTourneePage implements OnInit {\r\n  itemes: MenuItem[];\r\n  cols: { field: string; header: string; display : string}[];\r\n  data : i_t_tournee [] ;\r\n  selected : any[];\r\n  user_id : number ;\r\n  state : string;\r\n  color_icon: any;\r\n  items_sync: MenuItem[];\r\n  navigationExtras: NavigationExtras = {\r\n    queryParams: {\r\n      \"color\": String,\r\n      \"unsynced\": String\r\n    }\r\n  };\r\n  x: any;\r\n  constructor(private activeroute : ActivatedRoute, private dbm : Database_manager, private router : Router, private storage : Storage) { }\r\n\r\n  ngOnInit() {\r\n\r\n    this.activeroute.queryParams.subscribe(data => {\r\n     \r\n      this.color_icon = data [\"color\"] ;\r\n      this.itemes = [\r\n        {label: 'Déconnecter', icon: 'pi pi-fw pi-plus'}, \r\n      ];\r\n\r\n      this.items_sync = [\r\n        {label: data['unsynced']}, \r\n      ];\r\n    })\r\n\r\n\r\n    this.cols = [\r\n      { field: 'id' , header: 'id', display : 'none' },\r\n      { field: 'x_odoo_id' , header: 'x_odoo_id', display : 'none' },\r\n      { field: 'commercial' , header: 'commercial', display : 'none' },\r\n      { field: 'name' , header: 'Nom' , display: 'table-cell'},\r\n      { field: 'date' , header: 'Date prévue' , display: 'table-cell'},\r\n      { field: 'state' , header: 'Etat', display: 'table-cell' },\r\n      { field: 'start_date' , header: 'start_date' , display: 'none'},\r\n      { field: 'end_date' , header: 'end_date', display: 'none' },\r\n    ];\r\n\r\n  }\r\n\r\n  go_sync() {\r\n\t\tthis.dbm.verify_data().then(data => {\r\n      this.navigationExtras.queryParams = {\r\n        \"color\" : data.color ,\r\n        \"unsynced\" : data.non_synced\r\n      }\r\n      this.router.navigate([\"synchro\"], this.navigationExtras)\r\n    });\r\n\t}\r\n\r\n  ionViewWillEnter(){\r\n    this.dbm.get_active_user().then( data => {\r\n      this.user_id = data.id\r\n      this.dbm.get_all_tournees_by_user(this.user_id)\r\n        .then( (data : any) => {\r\n          if(data){\r\n            this.data = data\r\n            for(var i =0; i<this.data.length; i++){\r\n              if(this.data[i].state == \"nouveau\"){\r\n                this.data[i].state  = \"Nouvelle\";\r\n              }\r\n              if(this.data[i].state == \"cloture\"){\r\n                this.data[i].state  = \"Clôturée\";\r\n              }\r\n              if(this.data[i].state == \"demarre\"){\r\n                this.data[i].state  = \"Démarrée\";\r\n              }\r\n            }\r\n           \r\n          }\r\n        })\r\n        .catch(e => alert(e.message)) ;\r\n    }) ;\r\n\r\n    this.dbm.verify_data().then(data => {\r\n      \r\n      this.x = data ;\r\n\r\n      this.color_icon = data.color;\r\n      this.itemes = [\r\n        { label: 'Déconnecter', icon: 'pi pi-fw pi-plus' },\r\n      ];\r\n\r\n      this.items_sync = [\r\n        { label: data.non_synced },\r\n      ];\r\n      \r\n      this.navigationExtras.queryParams = {\r\n        \"color\" : data.color ,\r\n        \"unsynced\" : data.non_synced\r\n      }\r\n    });\r\n    \r\n  }\r\n\r\n  open_menu(){\r\n    this.storage.set(\"last\" , \"fiches-client\") ;\r\n    this.router.navigate(['menu'], this.navigationExtras) ;\r\n  }\r\n\r\n  open_nouveau_client(){\r\n    this.router.navigate(['new-client'], this.navigationExtras) ;  \r\n  }\r\n\r\n  onRowSelect(event) {\r\n  }\r\n\r\n  onRowUnselect(event) {\r\n  }\r\n\r\n  onRowClicked(rowData){\r\n   let navigationExtras: NavigationExtras = {\r\n      queryParams: {\r\n        \"id\": rowData.id ,\r\n        \"x_odoo_id\": rowData.x_odoo_id ,\r\n        \"commercial\" : rowData.commercial ,\r\n        \"name\" : rowData.name ,\r\n        \"status\" : rowData.state ,\r\n        \"date_prevue\" : rowData.date ,\r\n        \"date_debut\" : rowData.start_date,\r\n        \"date_fin\" : rowData.end_date ,\r\n        \"color\" : this.x.color,\r\n        \"unsynced\" : this.x.non_synced\r\n      }\r\n    };\r\n    //this.data_router.storage = rowData.id ;\r\n    this.router.navigate(['detail-tournee'], navigationExtras) ; \r\n  }\r\n  data_cmp  : any;\r\n  Deconnexion(){\r\n    Auth.access = true ;\r\n    this.storage.get('data_p2')\r\n    .then((data2:any)=>{\r\n      this.data_cmp = JSON.parse(data2);\r\n      this.dbm.Updata_active_Login(this.data_cmp.id);\r\n      this.storage.remove(\"data_p2\");\r\n    })\r\n    this.router.navigate(['home'], this.navigationExtras);\r\n  }\r\n}\r\n"],"sourceRoot":""}